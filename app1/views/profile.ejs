<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= appName %> - Profile</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><%= appName %> - User Profile</h1>
            <nav>
                <a href="/" class="btn btn-secondary">Home</a>
                <a href="/logout" class="btn btn-secondary">Logout</a>
            </nav>
        </header>

        <main>
            <div class="profile-card">
                <h2>User Information</h2>
                <div class="profile-info">
                    <div class="info-row">
                        <span class="label">User ID:</span>
                        <span class="value"><%= user.id %></span>
                    </div>
                    <div class="info-row">
                        <span class="label">Username:</span>
                        <span class="value"><%= user.username %></span>
                    </div>
                    <div class="info-row">
                        <span class="label">Email:</span>
                        <span class="value"><%= user.email %></span>
                    </div>
                    <div class="info-row">
                        <span class="label">First Name:</span>
                        <span class="value"><%= user.firstName %></span>
                    </div>
                    <div class="info-row">
                        <span class="label">Last Name:</span>
                        <span class="value"><%= user.lastName %></span>
                    </div>
                </div>
            </div>

            <div class="token-info">
                <h3>Token Information</h3>
                <details>
                    <summary>Access Token (click to expand)</summary>
                    <pre class="token-display"><%= user.accessToken %></pre>
                </details>
                <% if (user.refreshToken) { %>
                <details>
                    <summary>Refresh Token (click to expand)</summary>
                    <pre class="token-display"><%= user.refreshToken %></pre>
                </details>
                <% } %>
            </div>

            <div class="sso-test-section">
                <h3>SSO Test</h3>
                <p>You are currently logged in to Application 1. Try accessing Application 2 to test SSO:</p>
                <a href="http://localhost:3001" class="btn btn-primary" target="_blank">Open Application 2</a>
            </div>
        </main>

        <footer>
            <p>Keycloak SSO Demo - Application 1</p>
        </footer>
    </div>
</body>
</html>